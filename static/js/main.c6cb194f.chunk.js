(this.webpackJsonpreactmap=this.webpackJsonpreactmap||[]).push([[0],{24:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(7),s=n.n(i),r=(n(24),n(2)),o=n(6),l=n(19),j=n.n(l),u=n(0);function b(e){var t=e.name,n=e.info;return Object(u.jsxs)("table",{className:"info-table",children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"bold",children:"Name"}),Object(u.jsx)("td",{children:O(t)})]}),!!n&&Object.keys(n).filter((function(e){return"location"!==e.toLowerCase()})).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"bold",children:O(e)}),Object(u.jsx)("td",{children:n[e]})]},e)}))]})}function d(e){var t=e.title,n=e.rows;if(n&&n.length)return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t}),Object(u.jsxs)("table",{className:"data-table",children:[Object(u.jsx)("tr",{children:Object.keys(n[0]).map((function(e){return"location"!==e.toLowerCase()?Object(u.jsx)("th",{children:e},e):null}))}),n.map((function(e){return Object(u.jsx)("tr",{children:Object.keys(e).map((function(t){return"site"!==t&&"location"!==t?Object(u.jsx)("td",{children:e[t]},t):null}))},e.location)}))]})]})}function h(e){var t=e.showPolygon,n=e.showCircle,a=e.date,i=e.metric,s=e.onChangeShowMap,o=e.onChangeShowCircle,l=e.onChangeDate,j=e.onChangeMetric,b=e.dateOptions,d=e.metricOptions,h=Object(c.useState)(!1),O=Object(r.a)(h,2),p=O[0],f=O[1];return p?Object(u.jsx)("div",{className:"user-inputs",children:Object(u.jsx)("button",{onClick:function(){return f(!1)},children:"More Options"})}):Object(u.jsxs)("div",{className:"user-inputs",children:[Object(u.jsx)("button",{onClick:function(){return f(!0)},children:"Hide"}),Object(u.jsxs)("div",{className:"user-input-section",children:[Object(u.jsx)("div",{className:"user-input-label",children:Object(u.jsx)("label",{children:"Show Map Area:"})}),Object(u.jsx)("input",{type:"checkbox",id:"show-map",name:"show-map",checked:t,value:t,onChange:s})]}),Object(u.jsxs)("div",{className:"user-input-section",children:[Object(u.jsx)("div",{className:"user-input-label",children:Object(u.jsx)("label",{children:"Date:"})}),Object(u.jsxs)("select",{value:a,onChange:l,children:[Object(u.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"-- select an option --"}),b.map((function(e){return Object(u.jsx)("option",{value:e.date,children:e.date},e.date)}))]})]}),Object(u.jsxs)("div",{className:"user-input-section",children:[Object(u.jsx)("div",{className:"user-input-label",children:Object(u.jsx)("label",{children:"Metric:"})}),Object(u.jsxs)("select",{value:i,onChange:j,children:[Object(u.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"-- select an option --"}),d.map((function(e){return"date"!==e&&"location"!==e?Object(u.jsx)("option",{value:e,children:e},e):null}))]})]}),a&&i?Object(u.jsxs)("div",{className:"user-input-section",children:[Object(u.jsx)("div",{className:"user-input-label",children:Object(u.jsx)("label",{children:"Show Circles:"})}),Object(u.jsx)("input",{type:"checkbox",id:"show-circle",name:"show-circle",checked:n,value:n,onChange:o})]}):null]})}function O(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=p(t[n]);return t.join(" ")}function p(e){for(var t=e.toLowerCase().split("/"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("/")}var f=Object(o.GoogleApiWrapper)({apiKey:"AIzaSyBoaMwtEv26-QexJ0Zge-FhO08jVdYTioQ"})((function(e){var t=e.google,n=Object(c.useState)({}),a=Object(r.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)({}),p=Object(r.a)(l,2),f=p[0],m=p[1],x=Object(c.useState)({}),g=Object(r.a)(x,2),v=g[0],C=g[1],k=Object(c.useState)(!0),w=Object(r.a)(k,2),y=w[0],S=w[1],N=Object(c.useState)(""),M=Object(r.a)(N,2),L=M[0],D=M[1],F=Object(c.useState)(null),P=Object(r.a)(F,2),A=P[0],E=P[1],T=Object(c.useState)(null),B=Object(r.a)(T,2),I=B[0],W=B[1],J=Object(c.useState)(null),K=Object(r.a)(J,2),Q=K[0],z=K[1],G=Object(c.useState)(!0),Z=Object(r.a)(G,2),_=Z[0],q=Z[1],H=Object(c.useState)(!1),R=Object(r.a)(H,2),U=R[0],V=R[1],Y=Object(c.useState)({}),X=Object(r.a)(Y,2),$=X[0],ee=X[1];function te(e){var t={},n={},c={};for(var a in e)if(a.includes("(Data)")){var i=e[a].elements[0].location,r=e[a].elements.filter((function(e){var t=new Date(e.date).getTime();return(new Date).getTime()-t<7776e6}));t[i]=r}else"Map Coordinates"===a?e[a].elements.forEach((function(e){var t=e.location,c=e.lat,a=e.lng;n[t]||(n[t]=[]),n[e.location].push({lat:c,lng:a})})):"Descriptions"===a&&e[a].elements.forEach((function(e){c[e.location]=e}));C(c),m(n),s(t)}function ne(){S(!1),D("")}function ce(e){for(var n=new t.maps.LatLngBounds,c=e.map((function(e){return new t.maps.LatLng(e.lat,e.lng)})),a=0;a<c.length;a++)n.extend(c[a]);return n.getCenter()}function ae(e,t){if(!e||!t)return{};var n={};Object.keys(i).forEach((function(c){n[c]=i[c].find((function(t){return t.date===e}))[t]}));var c=Object.values(n).reduce((function(e,t){return e+t})),a={};for(var s in n)a[s]={value:n[s],radii:c?Math.floor(1500*parseFloat(n[s]/c)):0};ee(a)}return Object(c.useEffect)((function(){j.a.init({key:"https://docs.google.com/spreadsheets/d/19Za-wgC1G_-TcFNm3j7iMpbmbF9P-PoaA_qKKhyRQCs/pubhtml",parseNumbers:!0,callback:te})}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{showPolygon:_,showCircle:U,date:I,metric:Q,onChangeShowMap:function(){return q(!_)},onChangeShowCircle:function(){return V(!U)},onChangeDate:function(e){W(e.target.value),ae(e.target.value,Q)},onChangeMetric:function(e){z(e.target.value),ae(I,e.target.value)},dateOptions:i[Object.keys(i)[0]]?i[Object.keys(i)[0]]:[],metricOptions:Object.keys(i).length?Object.keys(i[Object.keys(i)[0]][0]):[]}),Object(u.jsxs)(o.Map,{google:t,zoom:14,onClick:function(){y&&ne(),S(!1),E(null),D("")},children:[_?Object.keys(f).map((function(e){var t;return"Market"===v[e].team?t="orange":"Mission"===v[e].team&&(t="lightgreen"),Object(u.jsx)(o.Polygon,{paths:f[e],strokeColor:t,strokeOpacity:.35,strokeWeight:2,fillColor:t,fillOpacity:.35,onClick:function(t){D(e),function(e){E(ce(e.paths)),S(!0)}(t)}},e)})):null,U?Object.keys(f).map((function(e){var t;return"Market"===v[e].team?t="red":"Mission"===v[e].team&&(t="blue"),Object(u.jsx)(o.Circle,{radius:$[e]?$[e].radii:0,center:ce(f[e]),strokeColor:t,strokeOpacity:0,strokeWeight:5,fillColor:t,fillOpacity:.6},e)})):null,L?Object(u.jsx)(o.InfoWindow,{position:A,visible:y,onClose:ne,children:Object(u.jsxs)("div",{className:"info-window",children:[Object(u.jsx)("h1",{children:O(L)}),Object(u.jsx)(b,{name:L,info:v[L]}),Object(u.jsx)(d,{title:"Past 90 Days",rows:i[L]})]})}):null]})]})}));n(61);var m=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,{})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),x()}},[[62,1,2]]]);
//# sourceMappingURL=main.c6cb194f.chunk.js.map