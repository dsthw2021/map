(this.webpackJsonpreactmap=this.webpackJsonpreactmap||[]).push([[0],{24:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(7),s=n.n(i),o=(n(24),n(2)),r=n(6),l=n(19),u=n.n(l),j=n(0);function b(e){var t=e.name,n=e.info;return Object(j.jsxs)("table",{className:"info-table",children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"bold",children:"Name"}),Object(j.jsx)("td",{children:O(t)})]}),!!n&&Object.keys(n).filter((function(e){return"location"!==e.toLowerCase()})).map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"bold",children:O(e)}),Object(j.jsx)("td",{children:n[e]})]},e)}))]})}function d(e){var t=e.title,n=e.rows;if(n&&n.length)return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t}),Object(j.jsxs)("table",{className:"data-table",children:[Object(j.jsx)("tr",{children:Object.keys(n[0]).map((function(e){return"location"!==e.toLowerCase()?Object(j.jsx)("th",{children:e},e):null}))}),n.map((function(e){return Object(j.jsx)("tr",{children:Object.keys(e).map((function(t){var n;return"site"!==t&&"location"!==t?(isNaN(new Date(e.date).getTime())&&(n="bold"),Object(j.jsx)("td",{className:n,children:e[t]},t)):null}))},e.location)}))]})]})}function h(e){var t=e.showPolygon,n=e.showCircle,a=e.date,i=e.metric,s=e.onChangeShowMap,r=e.onChangeShowCircle,l=e.onChangeDate,u=e.onChangeMetric,b=e.dateOptions,d=e.metricOptions,h=Object(c.useState)(!0),O=Object(o.a)(h,2),p=O[0],f=O[1];return p?Object(j.jsx)("div",{className:"user-inputs",children:Object(j.jsx)("button",{onClick:function(){return f(!1)},children:"More Options"})}):Object(j.jsxs)("div",{className:"user-inputs",children:[Object(j.jsx)("button",{onClick:function(){return f(!0)},children:"Hide"}),Object(j.jsxs)("div",{className:"user-input-section",children:[Object(j.jsx)("div",{className:"user-input-label",children:Object(j.jsx)("label",{children:"Show Map Area:"})}),Object(j.jsx)("input",{type:"checkbox",id:"show-map",name:"show-map",checked:t,value:t,onChange:s})]}),Object(j.jsxs)("div",{className:"user-input-section",children:[Object(j.jsx)("div",{className:"user-input-label",children:Object(j.jsx)("label",{children:"Date:"})}),Object(j.jsxs)("select",{value:a,onChange:l,children:[Object(j.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"-- select an option --"}),b.map((function(e){return Object(j.jsx)("option",{value:e.date,children:e.date},e.date)}))]})]}),Object(j.jsxs)("div",{className:"user-input-section",children:[Object(j.jsx)("div",{className:"user-input-label",children:Object(j.jsx)("label",{children:"Metric:"})}),Object(j.jsxs)("select",{value:i,onChange:u,children:[Object(j.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"-- select an option --"}),d.map((function(e){return"date"!==e&&"location"!==e?Object(j.jsx)("option",{value:e,children:e},e):null}))]})]}),a&&i?Object(j.jsxs)("div",{className:"user-input-section",children:[Object(j.jsx)("div",{className:"user-input-label",children:Object(j.jsx)("label",{children:"Show Circles:"})}),Object(j.jsx)("input",{type:"checkbox",id:"show-circle",name:"show-circle",checked:n,value:n,onChange:r})]}):null]})}function O(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=p(t[n]);return t.join(" ")}function p(e){for(var t=e.toLowerCase().split("/"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("/")}var f=Object(r.GoogleApiWrapper)({apiKey:"AIzaSyBoaMwtEv26-QexJ0Zge-FhO08jVdYTioQ"})((function(e){var t=e.google,n=Object(c.useState)({}),a=Object(o.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)({}),p=Object(o.a)(l,2),f=p[0],m=p[1],x=Object(c.useState)({}),v=Object(o.a)(x,2),g=v[0],C=v[1],w=Object(c.useState)(!0),k=Object(o.a)(w,2),y=k[0],N=k[1],S=Object(c.useState)(""),M=Object(o.a)(S,2),D=M[0],L=M[1],F=Object(c.useState)(null),P=Object(o.a)(F,2),T=P[0],A=P[1],E=Object(c.useState)(null),I=Object(o.a)(E,2),W=I[0],B=I[1],J=Object(c.useState)(null),K=Object(o.a)(J,2),Q=K[0],z=K[1],G=Object(c.useState)(!0),Z=Object(o.a)(G,2),_=Z[0],q=Z[1],H=Object(c.useState)(!1),R=Object(o.a)(H,2),U=R[0],V=R[1],Y=Object(c.useState)({}),X=Object(o.a)(Y,2),$=X[0],ee=X[1],te=Object(c.useState)(!1),ne=Object(o.a)(te,2),ce=ne[0],ae=ne[1];function ie(e){var t={},n={},c={};for(var a in e)if(a.includes("(Data)")){var i=e[a].elements[0].location,o=e[a].elements.filter((function(e){var t=new Date(e.date).getTime();return!!isNaN(t)||(new Date).getTime()-t<7776e6}));t[i]=o}else"Map Coordinates"===a?e[a].elements.forEach((function(e){var t=e.location,c=e.lat,a=e.lng;n[t]||(n[t]=[]),n[e.location].push({lat:c,lng:a})})):"Descriptions"===a&&e[a].elements.forEach((function(e){c[e.location]=e}));C(c),m(n),s(t)}function se(){N(!1),L("")}function oe(e){A(re(e)),N(!0),ae(!1)}function re(e){for(var n=new t.maps.LatLngBounds,c=e.map((function(e){return new t.maps.LatLng(e.lat,e.lng)})),a=0;a<c.length;a++)n.extend(c[a]);return n.getCenter()}function le(e,t){if(!e||!t)return{};var n={};Object.keys(i).forEach((function(c){n[c]=i[c].find((function(t){return t.date===e}))[t]}));var c=Object.values(n).reduce((function(e,t){return e+t})),a={};for(var s in n)a[s]={value:n[s],radii:c?Math.floor(1500*parseFloat(n[s]/c)):0};ee(a)}return Object(c.useEffect)((function(){u.a.init({key:"https://docs.google.com/spreadsheets/d/19Za-wgC1G_-TcFNm3j7iMpbmbF9P-PoaA_qKKhyRQCs/pubhtml",parseNumbers:!0,callback:ie})}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{showPolygon:_,showCircle:U,date:W,metric:Q,onChangeShowMap:function(){return q(!_)},onChangeShowCircle:function(){return V(!U)},onChangeDate:function(e){B(e.target.value),le(e.target.value,Q)},onChangeMetric:function(e){z(e.target.value),le(W,e.target.value)},dateOptions:i[Object.keys(i)[0]]?i[Object.keys(i)[0]]:[],metricOptions:Object.keys(i).length?Object.keys(i[Object.keys(i)[0]][0]):[]}),Object(j.jsxs)(r.Map,{google:t,zoom:14,onClick:function(){y&&se(),N(!1),A(null),L("")},children:[_?Object.keys(f).map((function(e){var t;return"Market"===g[e].team?t="orange":"Mission"===g[e].team&&(t="lightgreen"),Object(j.jsx)(r.Polygon,{paths:f[e],strokeColor:t,strokeOpacity:.35,strokeWeight:2,fillColor:t,fillOpacity:.35,onClick:function(t){L(e),oe(t.paths)},onMouseover:function(){y||(L(e),ae(!0))},onMouseout:function(){y||(ae(!1),L(""))}},e)})):null,$[D]?Object(j.jsx)(r.InfoWindow,{position:re(f[D]),visible:U&&ce&&!!D,children:Object(j.jsx)("span",{children:$[D].value})}):null,U?Object.keys(f).map((function(e){var t;"Market"===g[e].team?t="red":"Mission"===g[e].team&&(t="blue");var n=re(f[e]);return Object(j.jsx)(r.Circle,{radius:$[e]?$[e].radii:0,center:n,strokeColor:t,strokeOpacity:0,strokeWeight:5,fillColor:t,fillOpacity:.6,onClick:function(){L(e),oe(f[e])},onMouseover:function(){y||(L(e),ae(!0))},onMouseout:function(){y||(ae(!1),L(""))}},e)})):null,D?Object(j.jsx)(r.InfoWindow,{position:T,visible:y,onClose:se,children:Object(j.jsxs)("div",{className:"info-window",children:[Object(j.jsx)("h1",{children:O(D)}),Object(j.jsx)(b,{name:D,info:g[D]}),Object(j.jsx)(d,{title:"Past 90 Days",rows:i[D]})]})}):null]})]})}));n(61);var m=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(f,{})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),x()}},[[62,1,2]]]);
//# sourceMappingURL=main.fb8b4cef.chunk.js.map